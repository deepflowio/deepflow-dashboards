{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 2,
  "id": 4,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 485,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 1
          },
          "id": 487,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "# Data Flow\n\nThe main data flow in deepflow-agent is as follows (for more details, please refer to the [GitHub](https://github.com/deepflowio/deepflow/blob/main/docs/design/data-flow.md) documentation):\n\n```\neBPF data:\n[ebpf_collector] -> [flow_map] ---queue-> [quadruple_generator] -queue-> [collector] -queue-> [sender] (app metrics)\n                                `-queue-> [l7_session_aggr] --------------------------queue-> [sender] (request-log)\n\nAF_PACKET/cBPF data:\n[dispatcher] -----> [flow_map] ---queue-> [quadruple_generator] ---queue-> [collector] -queue-> [sender] (net/app metrics)\n                                |                                `-queue-> [flow_aggr] -queue-> [sender] (flow-log)\n                                `-queue-> [l7_session_aggr] ----------------------------queue-> [sender] (request-log)\n```",
            "mode": "markdown"
          },
          "pluginVersion": "10.4.0",
          "type": "text"
        }
      ],
      "title": "Tips",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 326,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 2
          },
          "id": 324,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.2.4",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": "$datasource",
              "debug": false,
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "metaExtra": {},
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.cpu_percent\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.cpu_percent\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p90\",\"params\":[90],\"uuid\":\"face40ba-9841-3fed-c00c-6f00dd8d10ef\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[90]}},{\"type\":\"metric\",\"key\":\"metrics.cpu_percent\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p75\",\"params\":[75],\"uuid\":\"ffd539c6-7060-9b59-e47c-72f6526cc08f\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[75]}},{\"type\":\"metric\",\"key\":\"metrics.cpu_percent\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p50\",\"params\":[50],\"uuid\":\"eac3ef0b-26ce-d4a2-cf18-3304b971480f\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[50]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"ba3f383b-510a-1b09-2978-a0572e4268b8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1d7f93a0-01dd-a600-cf7f-52f3a7278c2c\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c559f628-02c3-1284-6f61-c2b26974ddb8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"03095c45-2891-4886-bdd8-46b3bb4c7f89\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "returnMetrics": [
                {
                  "displayName": "max",
                  "name": "max",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "p90",
                  "name": "p90",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "p75",
                  "name": "p75",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "p50",
                  "name": "p50",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                }
              ],
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "sql": "SELECT Max(`metrics.cpu_percent`) AS `max`, Percentile(`metrics.cpu_percent`,0.9) AS `p90`, Percentile(`metrics.cpu_percent`,0.75) AS `p75`, Percentile(`metrics.cpu_percent`,0.5) AS `p50`, time(time, 60) AS `time_value` FROM deepflow_agent_monitor WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717461643 AND time<=1717465243 GROUP BY `time_value` LIMIT 100000",
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "CPU statistics for all selected agents (100=1C)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 2
          },
          "id": 327,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.2.4",
          "targets": [
            {
              "alias": "$tag_host RSS",
              "datasource": {
                "type": "influxdb",
                "uid": "-285FeR4z"
              },
              "debug": false,
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_memory",
              "metaExtra": {},
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.memory\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[],\"uuid\":\"5e8567f1-c5d1-fe40-700e-525b52b7f214\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.memory\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p90\",\"params\":[90],\"uuid\":\"2e50a2af-00b0-315b-aa29-d5a07faa8c04\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[90]}},{\"type\":\"metric\",\"key\":\"metrics.memory\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p75\",\"params\":[75],\"uuid\":\"e7b110db-91f8-6642-2248-93f8471df180\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[75]}},{\"type\":\"metric\",\"key\":\"metrics.memory\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p50\",\"params\":[50],\"uuid\":\"700a7d31-49c5-771c-8c42-9a658664ff29\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[50]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3f5ad928-25f0-b1e0-4dc8-61ffad3ec3e6\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"aa698015-0bb6-6a30-9ca6-b8b27cfa2535\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"ea619161-658e-62c3-ac12-689857cdc546\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a31e735f-71b7-ab80-c079-0afba3433af0\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "returnMetrics": [
                {
                  "displayName": "max",
                  "name": "max",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "p90",
                  "name": "p90",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "p75",
                  "name": "p75",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "p50",
                  "name": "p50",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                }
              ],
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "sql": "SELECT Max(`metrics.memory`) AS `max`, Percentile(`metrics.memory`,0.9) AS `p90`, Percentile(`metrics.memory`,0.75) AS `p75`, Percentile(`metrics.memory`,0.5) AS `p50`, time(time, 60) AS `time_60` FROM deepflow_agent_monitor WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','cn-beijing.10.1.183.140-V68','sandbox-10.0.221.224-V74','cn-beijing.10.1.183.142-V67','sandbox-10.0.221.223','sandbox-10.0.221.224') AND time>=1717400702 AND time<=1717404302 GROUP BY `time_60` LIMIT 100000",
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Memory statistics for all selected agents",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 70
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 6,
            "x": 0,
            "y": 11
          },
          "id": 328,
          "interval": "$interval",
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "limit": 100,
              "values": true
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.cpu_percent\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"ba3f383b-510a-1b09-2978-a0572e4268b8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eebb5518-206d-7e66-081f-711acd672455\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c559f628-02c3-1284-6f61-c2b26974ddb8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"fromSelect0\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"03095c45-2891-4886-bdd8-46b3bb4c7f89\",\"type\":\"metric\",\"sort\":\"desc\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.cpu_percent\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"p90\",\"params\":[],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},\"cache\":{\"func\":\"Max\",\"params\":[],\"subFuncs\":[]}}],\"interval\":\"\",\"limit\":\"20\",\"offset\":\"\",\"formatAs\":\"table\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Top agents by max CPU (100=1C)",
          "type": "bargauge"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 70
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 6,
            "x": 6,
            "y": 11
          },
          "id": 332,
          "interval": "$interval",
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.cpu_percent\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p90\",\"params\":[\"90\"],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[\"90\"]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"ba3f383b-510a-1b09-2978-a0572e4268b8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eebb5518-206d-7e66-081f-711acd672455\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c559f628-02c3-1284-6f61-c2b26974ddb8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"fromSelect0\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[\"90\"],\"uuid\":\"03095c45-2891-4886-bdd8-46b3bb4c7f89\",\"type\":\"metric\",\"sort\":\"desc\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.cpu_percent\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p95\",\"params\":[\"90\"],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[\"90\"]}},\"cache\":{\"func\":\"Percentile\",\"params\":[\"90\"],\"subFuncs\":[]}}],\"interval\":\"\",\"limit\":\"20\",\"offset\":\"\",\"formatAs\":\"table\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Top agents by p90 CPU (100=1C)",
          "type": "bargauge"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 768000000
                  },
                  {
                    "color": "red",
                    "value": 1000000000
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 6,
            "x": 12,
            "y": 11
          },
          "id": 331,
          "interval": "$interval",
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": {
                "type": "influxdb",
                "uid": "-285FeR4z"
              },
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.memory\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"ba3f383b-510a-1b09-2978-a0572e4268b8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eebb5518-206d-7e66-081f-711acd672455\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c559f628-02c3-1284-6f61-c2b26974ddb8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"fromSelect0\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"03095c45-2891-4886-bdd8-46b3bb4c7f89\",\"type\":\"metric\",\"sort\":\"desc\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.memory\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},\"cache\":{\"func\":\"Max\",\"params\":[],\"subFuncs\":[]}}],\"interval\":\"\",\"limit\":\"20\",\"offset\":\"\",\"formatAs\":\"table\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Top agents by max memory",
          "type": "bargauge"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "yellow",
                    "value": 768000000
                  },
                  {
                    "color": "red",
                    "value": 1000000000
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 6,
            "x": 18,
            "y": 11
          },
          "id": 333,
          "interval": "$interval",
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": true
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": "$datasource",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.memory\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"p75\",\"params\":[\"75\"],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[\"75\"]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"ba3f383b-510a-1b09-2978-a0572e4268b8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eebb5518-206d-7e66-081f-711acd672455\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c559f628-02c3-1284-6f61-c2b26974ddb8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"fromSelect0\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[\"75\"],\"uuid\":\"03095c45-2891-4886-bdd8-46b3bb4c7f89\",\"type\":\"metric\",\"sort\":\"desc\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.memory\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[\"75\"],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[\"75\"]}},\"cache\":{\"func\":\"Percentile\",\"params\":[\"75\"],\"subFuncs\":[]}}],\"interval\":\"\",\"limit\":\"20\",\"offset\":\"\",\"formatAs\":\"table\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Top agents by p75 memory",
          "type": "bargauge"
        }
      ],
      "title": "00 - CPU & MEM Statistics of All Selected Agents",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 2
      },
      "id": 298,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 3
          },
          "id": 334,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.3.6",
          "targets": [
            {
              "alias": "$tag_host-$tag_port tx_bps-$tag_type",
              "datasource": "$datasource",
              "debug": false,
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "$__interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "port"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "type"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_collect_sender_tx_bytes",
              "metaExtra": {},
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collect_sender\",\"select\":[{\"key\":\"metrics.tx-bytes\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c86a329f-a2d9-e1cc-02fc-e684ac8e7676\",\"type\":\"metric\"}],\"groupBy\":[{\"type\":\"tag\",\"key\":\"tag.type\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9d62bc27-22a4-49ea-9ad9-3e1f079e8096\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "C",
              "resultFormat": "time_series",
              "returnMetrics": [
                {
                  "displayName": "PerSecond(Math(Avg(metrics.tx-bytes)*8))",
                  "name": "PerSecond(Math(Avg(metrics.tx-bytes)*8))",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.type",
                  "isResource": false,
                  "name": "tag.type"
                }
              ],
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  },
                  {
                    "params": [
                      "*8/60"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "sql": "SELECT PerSecond((Avg(`metrics.tx-bytes`)*8)) AS `PerSecond(Math(Avg(metrics.tx-bytes)*8))`, time(time, 60) AS `time_value`, `tag.type` FROM deepflow_agent_collect_sender WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717461643 AND time<=1717465243 GROUP BY `time_value`, `tag.type` SLIMIT 20 LIMIT 10000",
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Bandwidth",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "id": 335,
          "interval": "$interval",
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "limit": 100,
              "values": true
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": "$datasource",
              "debug": false,
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "metaExtra": {},
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collect_sender\",\"select\":[{\"key\":\"metrics.tx-bytes\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"188af921-ed5d-87f9-6522-7e1d5d887032\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"4890d5c5-e3eb-b571-2982-46912cde2c08\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4fb85f48-65a3-3114-8b28-6187df94aa6e\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"52bd951f-4c36-1797-cec7-fa7d9874dbf5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.type\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c00750f3-d338-6199-9206-ec6278004bfa\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"fromSelect0\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"98b3dc95-df93-502d-c4a5-bacf5d8c06a8\",\"type\":\"metric\",\"sort\":\"desc\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.tx-bytes\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"188af921-ed5d-87f9-6522-7e1d5d887032\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}},\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}}],\"interval\":\"\",\"limit\":\"20\",\"offset\":\"\",\"formatAs\":\"table\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "returnMetrics": [
                {
                  "displayName": "Math(Math(Avg(metrics.tx-bytes)*8)/10)",
                  "name": "Math(Math(Avg(metrics.tx-bytes)*8)/10)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.type",
                  "isResource": false,
                  "name": "tag.type"
                }
              ],
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "sql": "SELECT ((Avg(`metrics.tx-bytes`)*8)/10) AS `Math(Math(Avg(metrics.tx-bytes)*8)/10)`, `tag.host`, `tag.type` FROM deepflow_agent_collect_sender WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717461643 AND time<=1717465243 GROUP BY `tag.host`, `tag.type` ORDER BY `Math(Math(Avg(metrics.tx-bytes)*8)/10)` desc LIMIT 20",
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Top <agent, signal> by avg bandwidth",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "id": 336,
          "interval": "$interval",
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 10,
            "minVizWidth": 0,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "limit": 100,
              "values": true
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host",
              "datasource": "$datasource",
              "debug": false,
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_monitor_cpu_percent",
              "metaExtra": {},
              "orderByTime": "ASC",
              "policy": "default",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collect_sender\",\"select\":[{\"key\":\"metrics.tx-bytes\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[90],\"uuid\":\"188af921-ed5d-87f9-6522-7e1d5d887032\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[90],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"4890d5c5-e3eb-b571-2982-46912cde2c08\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c42d35b6-dacf-7e75-9192-82830aa5691d\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"52bd951f-4c36-1797-cec7-fa7d9874dbf5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"fromSelect0\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[90],\"uuid\":\"98b3dc95-df93-502d-c4a5-bacf5d8c06a8\",\"type\":\"metric\",\"sort\":\"desc\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.tx-bytes\",\"func\":\"Percentile\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[90],\"uuid\":\"188af921-ed5d-87f9-6522-7e1d5d887032\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Percentile\",\"params\":[90],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}},\"cache\":{\"func\":\"Percentile\",\"params\":[90],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}}],\"interval\":\"\",\"limit\":\"20\",\"offset\":\"\",\"formatAs\":\"table\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "resultFormat": "time_series",
              "returnMetrics": [
                {
                  "displayName": "Math(Math(Percentile(metrics.tx-bytes,0.9)*8)/10)",
                  "name": "Math(Math(Percentile(metrics.tx-bytes,0.9)*8)/10)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "sql": "SELECT ((Percentile(`metrics.tx-bytes`,0.9)*8)/10) AS `Math(Math(Percentile(metrics.tx-bytes,0.9)*8)/10)`, `tag.host` FROM deepflow_agent_collect_sender WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717461643 AND time<=1717465243 GROUP BY `tag.host` ORDER BY `Math(Math(Percentile(metrics.tx-bytes,0.9)*8)/10)` desc LIMIT 20",
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Top agents by total bandwidth",
          "type": "bargauge"
        }
      ],
      "title": "01 - Bandwidth Statistics of All Selected Agents",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 111,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*-limit/"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 4
          },
          "id": 1,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.cpu_percent\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"usage\",\"params\":[],\"uuid\":\"ffcfb3f8-c700-28a9-aff0-114090e53609\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.max_millicpus\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"limit\",\"params\":[],\"uuid\":\"debc83df-bcc1-17e5-1155-3479572303c6\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":10}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"ba3f383b-510a-1b09-2978-a0572e4268b8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"055d04d3-3e38-0f5b-d534-e093feab2ce1\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c559f628-02c3-1284-6f61-c2b26974ddb8\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"03095c45-2891-4886-bdd8-46b3bb4c7f89\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "usage",
                  "name": "usage",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "limit",
                  "name": "limit",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Max(`metrics.cpu_percent`) AS `usage`, (Max(`metrics.max_millicpus`)/10) AS `limit`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_monitor WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717397724 AND time<=1717401324 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "CPU (100=1C)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "When the memory usage exceeds the limit, the agent will be killed and restarted by the OOM killer.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*-limit/"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 4
          },
          "id": 2,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.memory\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"usage\",\"params\":[],\"uuid\":\"5e8567f1-c5d1-fe40-700e-525b52b7f214\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.max_memory\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"limit\",\"params\":[],\"uuid\":\"37db537c-9035-830b-945e-c3b70ef8172d\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3f5ad928-25f0-b1e0-4dc8-61ffad3ec3e6\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9af458d3-df25-1ab1-3149-295bbaee2f3e\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"ea619161-658e-62c3-ac12-689857cdc546\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a31e735f-71b7-ab80-c079-0afba3433af0\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "usage",
                  "name": "usage",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "limit",
                  "name": "limit",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Max(`metrics.memory`) AS `usage`, Max(`metrics.max_memory`) AS `limit`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_monitor WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717397724 AND time<=1717401324 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] Memory",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 11
          },
          "id": 20,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_system\",\"select\":[{\"key\":\"metrics.load1\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"load1\",\"params\":[],\"uuid\":\"5e8567f1-c5d1-fe40-700e-525b52b7f214\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.load5\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"load5\",\"params\":[],\"uuid\":\"07597c18-11ca-fc53-0487-d0844b71a157\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.load15\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"load15\",\"params\":[],\"uuid\":\"d75addf8-8c7e-1ca1-284d-c3574cece888\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3f5ad928-25f0-b1e0-4dc8-61ffad3ec3e6\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8f166a23-7d66-9c69-096a-26a5196051e1\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"ea619161-658e-62c3-ac12-689857cdc546\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a31e735f-71b7-ab80-c079-0afba3433af0\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "load1",
                  "name": "load1",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "load5",
                  "name": "load5",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "load15",
                  "name": "load15",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Avg(`metrics.load1`) AS `load1`, Avg(`metrics.load5`) AS `load5`, Avg(`metrics.load15`) AS `load15`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_system WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717380370 AND time<=1717383970 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "System Load",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "When the free memory percentage is lower than `90% * limit`, the agent will automatically restart.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*-limit/"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 11
          },
          "id": 482,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.sys_free_memory\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"free\",\"params\":[],\"uuid\":\"5e8567f1-c5d1-fe40-700e-525b52b7f214\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.system_free_memory_limit\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"limit\",\"params\":[],\"uuid\":\"37db537c-9035-830b-945e-c3b70ef8172d\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3f5ad928-25f0-b1e0-4dc8-61ffad3ec3e6\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"f189f641-8e90-aae0-1f27-c646a2070cc2\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"ea619161-658e-62c3-ac12-689857cdc546\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a31e735f-71b7-ab80-c079-0afba3433af0\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "free",
                  "name": "free",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "limit",
                  "name": "limit",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Max(`metrics.sys_free_memory`) AS `free`, Max(`metrics.system_free_memory_limit`) AS `limit`, time(time, 60) AS `time_value`, `tag.host` FROM deepflow_agent_monitor WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717462346 AND time<=1717465946 GROUP BY `time_value`, `tag.host` SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": " [CAUTION] System Free Memory",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 1000000000
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 18
          },
          "id": 483,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.log_file_size_sum\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5e8567f1-c5d1-fe40-700e-525b52b7f214\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3f5ad928-25f0-b1e0-4dc8-61ffad3ec3e6\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"dc3fcbfa-760a-0755-77e9-c30adc49c5de\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"ea619161-658e-62c3-ac12-689857cdc546\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a31e735f-71b7-ab80-c079-0afba3433af0\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Max(metrics.log_file_size_sum)",
                  "name": "Max(metrics.log_file_size_sum)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Max(`metrics.log_file_size_sum`) AS `Max(metrics.log_file_size_sum)`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_monitor WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717406419 AND time<=1717410019 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Log File Size",
          "type": "timeseries"
        }
      ],
      "title": "10 - CPU & MEM Usage, System Load",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 4
      },
      "id": 342,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "A `Change Count` greater than 0 indicates that the agent has been restarted.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "dateTimeAsIso"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 5
          },
          "id": 31,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "changeCount"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last *",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_monitor\",\"select\":[{\"key\":\"metrics.create_time\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"85d9587f-a51d-97bd-7018-ea4defb0e608\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"005e4329-753a-270a-31f1-78293fdc9c89\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"45b00322-9355-0245-4fea-a36ef2b1e1dd\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e0bb15ad-f551-0bbb-61be-8b4b029036c6\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2bddfbb8-d25b-3413-dfaa-df5d17c553db\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Max(metrics.create_time)",
                  "name": "Max(metrics.create_time)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Max(`metrics.create_time`) AS `Max(metrics.create_time)`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_monitor WHERE (`tag.host` = 'deepflow-ce-cloud-demo-1-W2' OR `tag.host` = 'metaflow-demo-0-V1' OR `tag.host` = 'metaflow-demo-1-V3' OR `tag.host` = 'metaflow-demo-2-V2' OR `tag.host` = 'deepflow-ce-cloud-demo-0-W1') AND time>=1717377639 AND time<=1717381239 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] Agent Start Time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ns"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 5
          },
          "id": 343,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ntp\",\"select\":[{\"key\":\"metrics.time_diff\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"max\",\"params\":[],\"uuid\":\"baa784ca-3076-bcb1-2874-40f55963eb67\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.time_diff\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"min\",\"params\":[],\"uuid\":\"c86e0e33-7faa-dbc1-b4b7-d9381170b01a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"7d342892-24af-938d-5c04-f835283df8e4\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9a38e37a-6b80-186f-5e06-9ff59cff0c55\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"255cfd45-856e-9989-d373-18cebc820759\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a90e0533-7309-42f5-ede5-d9a4831e4b71\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "max",
                  "name": "max",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "min",
                  "name": "min",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Max(`metrics.time_diff`) AS `max`, Min(`metrics.time_diff`) AS `min`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_ntp WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717380370 AND time<=1717383970 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "System Clock Skew",
          "type": "timeseries"
        }
      ],
      "title": "11 - Restart, Clock Skew",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 113,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 100,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "pps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/^.*tx$/"
                },
                "properties": [
                  {
                    "id": "custom.stacking",
                    "value": {
                      "group": "B",
                      "mode": "normal"
                    }
                  },
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 6
          },
          "id": 32,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_net\",\"select\":[{\"key\":\"metrics.drop_in\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"drop_in\",\"params\":[],\"uuid\":\"46d484dd-d580-07a9-11dc-0882080200f0\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},{\"type\":\"metric\",\"key\":\"metrics.drop_out\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"drop_out\",\"params\":[],\"uuid\":\"4ab9ff5e-3a5e-6e41-f64f-20726bcae7a7\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"177cfd32-6a5a-4bb7-f6e8-a521b53a2317\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e1ca210b-12cf-5f54-441e-147bf3fae9a1\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9a6473c6-dfb4-f609-377b-cc45631b0bfc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.name\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a8e42a70-24f2-a359-f832-b861e5b88187\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"77cfa768-1f6e-131e-e5eb-5c49b729177f\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drop_in",
                  "name": "drop_in",
                  "type": 1,
                  "unit": "/s"
                },
                {
                  "displayName": "drop_out",
                  "name": "drop_out",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.name",
                  "isResource": false,
                  "name": "tag.name"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.drop_in`)) AS `drop_in`, PerSecond(Avg(`metrics.drop_out`)) AS `drop_out`, time(time, 60) AS `time_60`, `tag.host`, `tag.name` FROM deepflow_agent_net WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717462346 AND time<=1717465946 GROUP BY `time_60`, `tag.host`, `tag.name` SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": "Drops on Interfaces",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/^.*tx$/"
                },
                "properties": [
                  {
                    "id": "custom.stacking",
                    "value": {
                      "group": "B",
                      "mode": "normal"
                    }
                  },
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "id": 29,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_net\",\"select\":[{\"key\":\"metrics.rx_bytes\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"rx\",\"params\":[],\"uuid\":\"46d484dd-d580-07a9-11dc-0882080200f0\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}]}},{\"type\":\"metric\",\"key\":\"metrics.tx_bytes\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"tx\",\"params\":[],\"uuid\":\"2ebc7b2d-ee73-4a87-632a-2ef5b9d6b4a7\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"177cfd32-6a5a-4bb7-f6e8-a521b53a2317\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e6812f6a-8d3f-4cb8-617a-73b6aa9ebc8f\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9a6473c6-dfb4-f609-377b-cc45631b0bfc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.name\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"b7e34bc2-ce92-b617-10d2-9b98eb8ff915\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"77cfa768-1f6e-131e-e5eb-5c49b729177f\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}-${tag.name}\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "B",
              "returnMetrics": [
                {
                  "displayName": "rx",
                  "name": "rx",
                  "type": 1,
                  "unit": "/s"
                },
                {
                  "displayName": "tx",
                  "name": "tx",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.name",
                  "isResource": false,
                  "name": "tag.name"
                }
              ],
              "sql": "SELECT PerSecond((Avg(`metrics.rx_bytes`)*8)) AS `rx`, PerSecond((Avg(`metrics.tx_bytes`)*8)) AS `tx`, time(time, 60) AS `time_value`, `tag.host`, `tag.name` FROM deepflow_agent_net WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717462346 AND time<=1717465946 GROUP BY `time_value`, `tag.host`, `tag.name` SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": "bps on Interfaces",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "pps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/^.*tx$/"
                },
                "properties": [
                  {
                    "id": "custom.stacking",
                    "value": {
                      "group": "B",
                      "mode": "normal"
                    }
                  },
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "id": 30,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_net\",\"select\":[{\"key\":\"metrics.rx\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"rx\",\"params\":[],\"uuid\":\"46d484dd-d580-07a9-11dc-0882080200f0\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},{\"type\":\"metric\",\"key\":\"metrics.tx\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"tx\",\"params\":[],\"uuid\":\"bfadc2d1-e701-e87e-9dae-9a2b09833eb6\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"177cfd32-6a5a-4bb7-f6e8-a521b53a2317\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"01a36abe-2f97-8b6f-5a4b-270cadfe5eab\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9a6473c6-dfb4-f609-377b-cc45631b0bfc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.name\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"84b295e0-90f6-371c-d5d0-159f4f267b22\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"77cfa768-1f6e-131e-e5eb-5c49b729177f\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}-${tag.name}\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "rx",
                  "name": "rx",
                  "type": 1,
                  "unit": "/s"
                },
                {
                  "displayName": "tx",
                  "name": "tx",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.name",
                  "isResource": false,
                  "name": "tag.name"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.rx`)) AS `rx`, PerSecond(Avg(`metrics.tx`)) AS `tx`, time(time, 60) AS `time_value`, `tag.host`, `tag.name` FROM deepflow_agent_net WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717462346 AND time<=1717465946 GROUP BY `time_value`, `tag.host`, `tag.name` SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": "pps on Interfaces",
          "type": "timeseries"
        }
      ],
      "title": "12 - NIC Kernel Counters (FYI Only)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 6
      },
      "id": 299,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 7
          },
          "id": 311,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.kern_lost\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"kern-drop\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"func\":\"Avg\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"e1626891-9438-f05d-eaef-479b1cb6a6c7\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.kern_lost\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"kern-drop\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"60\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "kern-drop",
                  "name": "kern-drop",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.kern_lost`)) AS `kern-drop`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717462346 AND time<=1717465946 GROUP BY `time_60`, `tag.host` HAVING PerSecond(Avg(`metrics.kern_lost`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] eBPF kernel data drops",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 7
          },
          "id": 488,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.user_enqueue_lost\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"user-drop\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"func\":\"Avg\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"3109bdd2-fb8e-d575-e473-7d37ad0b2c4e\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.user_enqueue_lost\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"user-drop\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"60\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "B",
              "returnMetrics": [
                {
                  "displayName": "user-drop",
                  "name": "user-drop",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.user_enqueue_lost`)) AS `user-drop`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717462346 AND time<=1717465946 GROUP BY `time_60`, `tag.host` HAVING PerSecond(Avg(`metrics.user_enqueue_lost`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] eBPF user data drops",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "dequeue/enqueue rate (left), burst/queue-size (right)",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": ".+-(burst|queue-size)"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 313,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.user_dequeue_count\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"dequeue\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":60}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":60}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"187c7c29-a592-05c5-1580-3f4a8a494275\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"60\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "dequeue",
                  "name": "dequeue",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT (Avg(`metrics.user_dequeue_count`)/60) AS `dequeue`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            },
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.user_enqueue_count\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"enqueue\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":60}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":60}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2d7bb05c-c5ca-53bf-3856-f9898def2583\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"60\",\"slimit\":\"\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "B",
              "returnMetrics": [
                {
                  "displayName": "enqueue",
                  "name": "enqueue",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT (Sum(`metrics.user_enqueue_count`)/60) AS `enqueue`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('node2-V2','node1-V1') AND time>=1709862002 AND time<=1709865602 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 1000"
            },
            {
              "datasource": "$datasource",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.queue_burst_count\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"burst\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b804a6a-0373-8ed8-bd7f-3f3c92ccd174\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "C"
            },
            {
              "datasource": "$datasource",
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.queue_capacity\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"queue-size\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b804a6a-0373-8ed8-bd7f-3f3c92ccd174\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "D"
            }
          ],
          "title": "Queue status",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": ".+-(burst|queue-size)"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "id": 338,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.collector_in\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"in\",\"params\":[],\"uuid\":\"49f32ee0-09f1-3dbe-21fe-06af93e36aff\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"20785821-8916-ee3d-ee44-c78400e0982f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"be2aba2a-b72c-9034-18e6-acf09a747245\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"899c8249-75ec-1df1-377b-26de23e3c2ee\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"eccca0a9-a550-94e3-41bb-4fb9edbc17b3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"60\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "in",
                  "name": "in",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.collector_in`)) AS `in`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "eBPF Collector PPS",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "description": "Once the reclaim-max is reached, the recovery mechanism will start to delete the data that is too old.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 305,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "9.2.3",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.kern_socket_map_used\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"used\",\"params\":[],\"uuid\":\"ca010cb0-0835-bc96-eb27-e59dbe1a5e99\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.kern_socket_map_max\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"limit\",\"params\":[],\"uuid\":\"cfb1b0a8-3609-f273-6003-0e4ccebcfc84\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.socket_map_max_reclaim\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"reclaim-max\",\"params\":[],\"uuid\":\"153ff76f-4938-b037-e062-171c9430a50a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"6946dc30-8844-bd92-efe6-42116e7fceac\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"67cf1578-4ef4-3ccb-ca36-bc02536de791\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bdcd0583-28db-2617-4b4d-bc0574554756\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1042c578-df21-823d-a1b9-27176815b9f3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "used",
                  "name": "used",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "limit",
                  "name": "limit",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "reclaim-max",
                  "name": "reclaim-max",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Min(`metrics.kern_socket_map_used`) AS `used`, Max(`metrics.kern_socket_map_max`) AS `limit`, Max(`metrics.socket_map_max_reclaim`) AS `reclaim-max`, time(time, 10) AS `time_10`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('node1-V1','node2-V2','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "kern_socket_map",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "description": "adapt: 1 kernel adaptation succeeds,   0 kernel adaptation fails.\ntracer_state: TRACER_INIT(0), TRACER_RUNNING(1),  TRACER_STOP(2).\nperf_pages: Number of pages occupied by the perf buffer memory.\nworker-num: The number of worker threads processing the data.\n\n",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 309,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.is_adapt_success\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"adapt\",\"params\":[],\"uuid\":\"ca010cb0-0835-bc96-eb27-e59dbe1a5e99\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"6946dc30-8844-bd92-efe6-42116e7fceac\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d1bea06f-7d90-1905-06a4-0229a9dae5ed\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bdcd0583-28db-2617-4b4d-bc0574554756\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1042c578-df21-823d-a1b9-27176815b9f3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A"
            },
            {
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.tracer_state\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"tracer_state\",\"params\":[],\"uuid\":\"ca010cb0-0835-bc96-eb27-e59dbe1a5e99\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"6946dc30-8844-bd92-efe6-42116e7fceac\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d1bea06f-7d90-1905-06a4-0229a9dae5ed\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bdcd0583-28db-2617-4b4d-bc0574554756\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1042c578-df21-823d-a1b9-27176815b9f3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "B"
            },
            {
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.perf_pages_count\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"perf_pages\",\"params\":[],\"uuid\":\"ca010cb0-0835-bc96-eb27-e59dbe1a5e99\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"6946dc30-8844-bd92-efe6-42116e7fceac\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d1bea06f-7d90-1905-06a4-0229a9dae5ed\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bdcd0583-28db-2617-4b4d-bc0574554756\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1042c578-df21-823d-a1b9-27176815b9f3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "C"
            },
            {
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.worker_num\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"worker-num\",\"params\":[],\"uuid\":\"ca010cb0-0835-bc96-eb27-e59dbe1a5e99\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"6946dc30-8844-bd92-efe6-42116e7fceac\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d1bea06f-7d90-1905-06a4-0229a9dae5ed\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bdcd0583-28db-2617-4b4d-bc0574554756\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1042c578-df21-823d-a1b9-27176815b9f3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "D"
            }
          ],
          "title": "Configuration",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 315,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.probes_count\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"probes\",\"params\":[],\"uuid\":\"049312e1-1ba1-8db8-5c4f-7dcef497ddd7\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"f2814dc6-a13c-7076-36c7-14a59379debc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"59e82d85-47ca-9701-53a9-8fe88ea79052\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"18ad2fca-0d04-ba80-3d07-c12c1249027f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e18b5f99-51ae-57ab-357b-ecef000e2c61\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A"
            }
          ],
          "title": "Probes Count",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "description": "Displays the maximum number of entries in the socket tracking hash table and the number of entries currently in use.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 307,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_ebpf_collector\",\"select\":[{\"key\":\"metrics.kern_trace_map_used\",\"func\":\"Min\",\"op\":\"\",\"val\":\"\",\"as\":\"used\",\"params\":[],\"uuid\":\"ca010cb0-0835-bc96-eb27-e59dbe1a5e99\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Min\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.kern_trace_map_max\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"limit\",\"params\":[],\"uuid\":\"279741e4-8604-83e9-1763-9fe78dd7d3da\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"6946dc30-8844-bd92-efe6-42116e7fceac\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"170a20ed-6860-ff46-a0ac-05574105527a\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bdcd0583-28db-2617-4b4d-bc0574554756\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1042c578-df21-823d-a1b9-27176815b9f3\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "B",
              "returnMetrics": [
                {
                  "displayName": "used",
                  "name": "used",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "limit",
                  "name": "limit",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Min(`metrics.kern_trace_map_used`) AS `used`, Max(`metrics.kern_trace_map_max`) AS `limit`, time(time, 10) AS `time_10`, `tag.host` FROM deepflow_agent_ebpf_collector WHERE `tag.host` IN ('node1-V1','node2-V2','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "kern_trace_map",
          "type": "timeseries"
        }
      ],
      "title": "20 - [ebpf_collector] eBPF Collector",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 112,
      "panels": [
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 8
          },
          "id": 7,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_dispatcher\",\"select\":[{\"key\":\"metrics.rx\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"rx\",\"params\":[],\"uuid\":\"baa784ca-3076-bcb1-2874-40f55963eb67\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"7d342892-24af-938d-5c04-f835283df8e4\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d86db53f-257b-9b9c-5e3d-735e02849789\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"255cfd45-856e-9989-d373-18cebc820759\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"28b6c0b9-2f14-2a14-994e-72e1f15ed85e\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a90e0533-7309-42f5-ede5-d9a4831e4b71\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.id}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "rx",
                  "name": "rx",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT (Sum(`metrics.rx`)/$__interval) AS `rx`, time(time, 60) AS `time_60`, `tag.host`, `tag.id` FROM deepflow_agent_dispatcher WHERE `tag.host` IN ('node2-V2','node1-V1','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_60`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Packets per Second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "points",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 1,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 8,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_dispatcher\",\"select\":[{\"key\":\"metrics.kernel_drops\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"baa784ca-3076-bcb1-2874-40f55963eb67\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"7d342892-24af-938d-5c04-f835283df8e4\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectbaa784ca-3076-bcb1-2874-40f55963eb67\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"8c788e88-22dc-4bc3-1712-89f9d17108e5\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.kernel_drops\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"baa784ca-3076-bcb1-2874-40f55963eb67\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"255cfd45-856e-9989-d373-18cebc820759\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"155b18bb-9e1c-7c85-768c-9b6e7e0abea5\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a90e0533-7309-42f5-ede5-d9a4831e4b71\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.id}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drops",
                  "name": "drops",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Sum(`metrics.kernel_drops`) AS `drops`, time(time, 60) AS `time_60`, `tag.host`, `tag.id` FROM deepflow_agent_dispatcher WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','deepflow-ce-cloud-demo-0-W1','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-demo-0','','deepflow-ce-demo-1','deepflow-ce-demo-2','deepflow-ce-cloud-demo-0','deepflow-ce-cloud-demo-1') AND time>=1714295328 AND time<=1714298928 GROUP BY `time_60`, `tag.host`, `tag.id` HAVING Sum(`metrics.kernel_drops`)>='1' SLIMIT 20 LIMIT 1000"
            }
          ],
          "title": " [CAUTION]  Packet Drops in Kernel (Agent Can't Process)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "points",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 1,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "id": 16,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_dispatcher\",\"select\":[{\"key\":\"metrics.retired\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"retired\",\"params\":[],\"uuid\":\"baa784ca-3076-bcb1-2874-40f55963eb67\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"7d342892-24af-938d-5c04-f835283df8e4\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectbaa784ca-3076-bcb1-2874-40f55963eb67\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"8c788e88-22dc-4bc3-1712-89f9d17108e5\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.retired\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"retired\",\"params\":[],\"uuid\":\"baa784ca-3076-bcb1-2874-40f55963eb67\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"255cfd45-856e-9989-d373-18cebc820759\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"1d5a5d33-d853-a1fa-3931-ce2d7f328ed4\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a90e0533-7309-42f5-ede5-d9a4831e4b71\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.id}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "retired",
                  "name": "retired",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Sum(`metrics.retired`) AS `retired`, time(time, 60) AS `time_60`, `tag.host`, `tag.id` FROM deepflow_agent_dispatcher WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','deepflow-ce-cloud-demo-0-W1','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-demo-0','','deepflow-ce-demo-1','deepflow-ce-demo-2','deepflow-ce-cloud-demo-0','deepflow-ce-cloud-demo-1') AND time>=1714295328 AND time<=1714298928 GROUP BY `time_60`, `tag.host`, `tag.id` HAVING Sum(`metrics.retired`)>='1' SLIMIT 20 LIMIT 1000"
            }
          ],
          "title": "Kernel Timestamp Backwards > 1ms (FYI Only)",
          "type": "timeseries"
        }
      ],
      "title": "21 - [dispatcher] AF_PACKET/cBPF Collector",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "id": 125,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 9
          },
          "id": 35,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.new\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"new\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c36c1027-a06c-959c-5999-867bdd2eb5c2\",\"type\":\"metric\"}],\"groupBy\":[{\"type\":\"tag\",\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5dda2e4c-caae-2ddb-7f4d-e668981ae6cd\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c077bde1-9633-d93d-2e1d-aabe0ab45411\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.id}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "D",
              "returnMetrics": [
                {
                  "displayName": "new",
                  "name": "new",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.new`)) AS `new`, time(time, 60) AS `time_value`, `tag.host`, `tag.id` FROM deepflow_agent_flow_map WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_value`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "New Flow Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 9
          },
          "id": 36,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.closed\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"closed\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"56872025-b18e-1c8f-47dd-989ebf26ec8d\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a442409f-6822-2980-0df1-c921ecd908ea\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.id}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "D",
              "returnMetrics": [
                {
                  "displayName": "closed",
                  "name": "closed",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.closed`)) AS `closed`, time(time, 60) AS `time_value`, `tag.host`, `tag.id` FROM deepflow_agent_flow_map WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_value`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Close Flow Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 263,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.drop_by_window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drop_by_window\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"57e98dac-7f92-eb6b-3418-573b2cbeba02\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectd81c989c-1109-ce31-42ff-100082ac77ad\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"da3e9101-e8e3-b589-1fc6-1521f397af28\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.drop_by_window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drop_by_window\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bda6d000-c62f-00cb-045e-19ee36469b7f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a5c1969b-4182-1c41-f75b-1971d285aeb4\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drop_by_window",
                  "name": "drop_by_window",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Sum(`metrics.drop_by_window`) AS `drop_by_window`, time(time, 60) AS `time_value`, `tag.host` FROM deepflow_agent_flow_map WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_value`, `tag.host` HAVING Sum(`metrics.drop_by_window`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] Packet drop by out-of-window",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 346,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.drop_by_capacity\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"57e98dac-7f92-eb6b-3418-573b2cbeba02\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectd81c989c-1109-ce31-42ff-100082ac77ad\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"0cfe1ad8-c96b-e1c2-0721-1c82b1926ce5\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.drop_by_capacity\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bda6d000-c62f-00cb-045e-19ee36469b7f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a5c1969b-4182-1c41-f75b-1971d285aeb4\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Sum(metrics.drop_by_capacity)",
                  "name": "Sum(metrics.drop_by_capacity)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Sum(`metrics.drop_by_capacity`) AS `Sum(metrics.drop_by_capacity)`, time(time, 60) AS `time_value`, `tag.host` FROM deepflow_agent_flow_map WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_value`, `tag.host` HAVING Sum(`metrics.drop_by_capacity`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] Packet drop by out-of-capacity",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 281,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.concurrent\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"concurrent\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8112814a-6d82-9b59-804c-4fd5583fde01\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"ec8b515e-168b-a9d3-c152-f15b9add4062\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "concurrent",
                  "name": "concurrent",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Max(`metrics.concurrent`) AS `concurrent`, time(time, 60) AS `time_60`, `tag.host`, `tag.id` FROM deepflow_agent_flow_map WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717387064 AND time<=1717390664 GROUP BY `time_60`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Concurrent",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 283,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.slots\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"slots\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9e204880-d45f-4690-66d4-a19ef5f716bd\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"69047a2b-4ebf-53c7-83ef-1e78d043b2bd\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "slots",
                  "name": "slots",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Max(`metrics.slots`) AS `slots`, time(time, 60) AS `time_60`, `tag.host`, `tag.id` FROM deepflow_agent_flow_map WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717387064 AND time<=1717390664 GROUP BY `time_60`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Slots",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 287,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.total_scan\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5fdc21ca-b348-b2b8-b44d-ba24373b3720\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"6e1b5306-1b6b-24ce-77cb-c06a8dfaf69a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Sum(metrics.total_scan)",
                  "name": "Sum(metrics.total_scan)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Sum(`metrics.total_scan`) AS `Sum(metrics.total_scan)`, time(time, 60) AS `time_60`, `tag.host`, `tag.id` FROM deepflow_agent_flow_map WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717391825 AND time<=1717395425 GROUP BY `time_60`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Slots total scan",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 285,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_map\",\"select\":[{\"key\":\"metrics.slot_max_depth\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"slot_max_depth\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"91a64c9d-4f38-7cc0-20fb-d1c4c5980b72\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c2ea8579-5108-4c79-f1c6-7af5f9986030\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "slot_max_depth",
                  "name": "slot_max_depth",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Max(`metrics.slot_max_depth`) AS `slot_max_depth`, time(time, 10) AS `time_10`, `tag.host`, `tag.id` FROM deepflow_agent_flow_map WHERE `tag.host` IN ('node1-V1','node2-V2','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Slots max depth",
          "type": "timeseries"
        }
      ],
      "title": "22 - [flow_map] Flow Hashmap",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 121,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 10
          },
          "id": 52,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_quadruple_generator\",\"select\":[{\"key\":\"metrics.drop-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"0395adca-f640-64bd-5a0f-18631f9a307b\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect948618a5-386c-b03f-01f7-25208ed4868f\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"918128c2-0e07-724b-5539-3151505c77e6\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.drop-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a1fdb709-4bf4-f0ee-b194-013db1d73dba\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"47698ab0-841a-12e1-1da9-75d92affec36\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c1f859cc-3f1a-9c6d-475a-fbb3583938ae\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"542c87a9-ae55-1542-4530-cb23a1129686\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}-${tag.kind}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drops",
                  "name": "drops",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.drop-before-window`)) AS `drops`, time(time, 60) AS `time_value`, `tag.host`, `tag.index`, `tag.kind` FROM deepflow_agent_quadruple_generator WHERE `tag.host` IN ('sandbox-10.0.221.224-V74','sandbox-10.0.221.223-V73') AND time>=1717493226 AND time<=1717504026 GROUP BY `time_value`, `tag.host`, `tag.index`, `tag.kind` HAVING PerSecond(Sum(`metrics.drop-before-window`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] drop by out-of-window",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ns"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 10
          },
          "id": 50,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "hide": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_quadruple_generator\",\"select\":[{\"key\":\"metrics.window-delay\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"window_delay\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.flow-delay\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"flow_delay\",\"params\":[],\"uuid\":\"6db6957d-0e88-30b0-cf96-c59cecac3f7a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"0395adca-f640-64bd-5a0f-18631f9a307b\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8c1dd7e4-9de2-6698-30ba-9d124c398538\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a1fdb709-4bf4-f0ee-b194-013db1d73dba\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"f5fe9d76-78d4-0f61-0ce1-471b12bde7f0\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"60784260-da42-d8cd-d0b7-a653016f2e35\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"542c87a9-ae55-1542-4530-cb23a1129686\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}-${tag.kind}\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "window_delay",
                  "name": "window_delay",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "flow_delay",
                  "name": "flow_delay",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Max(`metrics.window-delay`) AS `window_delay`, Max(`metrics.flow-delay`) AS `flow_delay`, time(time, 10) AS `time_10`, `tag.host`, `tag.index`, `tag.kind` FROM deepflow_agent_quadruple_generator WHERE `tag.host` IN ('node1-V1','node2-V2','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host`, `tag.index`, `tag.kind` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "delay",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 17
          },
          "id": 54,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_quadruple_generator\",\"select\":[{\"key\":\"metrics.no-endpoint\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"no-endpoint\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"0395adca-f640-64bd-5a0f-18631f9a307b\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a3ca4616-d23b-0348-e7a5-2463c3d3e4fb\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a1fdb709-4bf4-f0ee-b194-013db1d73dba\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e7b4bcc8-6bc7-f1f0-a767-7d0114eab80c\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9128e7f0-b174-e6a7-9f3e-1067575c7000\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"542c87a9-ae55-1542-4530-cb23a1129686\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}-${tag.kind}\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "no-endpoint",
                  "name": "no-endpoint",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Sum(`metrics.no-endpoint`) AS `no-endpoint`, time(time, 10) AS `time_10`, `tag.host`, `tag.index`, `tag.kind` FROM deepflow_agent_quadruple_generator WHERE `tag.host` IN ('node1-V1','node2-V2','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host`, `tag.index`, `tag.kind` SLIMIT 20 LIMIT 1000"
            }
          ],
          "title": "no_endpoint_in",
          "type": "timeseries"
        }
      ],
      "title": "23 - [quadruple_generator] Metrics Pre-aggregator",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 232,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 11
          },
          "id": 109,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_aggr\",\"select\":[{\"key\":\"metrics.drop-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectaefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"1c9b2fce-9f1f-e2d6-1cc0-a0bef6fa0d45\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.drop-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"3a9126d4-fb0a-7c16-3e6b-c209afd28e36\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drops",
                  "name": "drops",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.drop-before-window`)) AS `drops`, time(time, 60) AS `time_value`, `tag.host`, `tag.index` FROM deepflow_agent_flow_aggr WHERE `tag.host` IN ('sandbox-10.0.221.224-V74','sandbox-10.0.221.223-V73') AND time>=1717493226 AND time<=1717504026 GROUP BY `time_value`, `tag.host`, `tag.index` HAVING PerSecond(Sum(`metrics.drop-before-window`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] drop by out-of-window",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 11
          },
          "id": 233,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_aggr\",\"select\":[{\"key\":\"metrics.drop-in-throttle\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Percentage\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Percentage\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectaefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"8853bf40-89db-0aa4-2532-0c50b7189868\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Percentage\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.drop-in-throttle\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Percentage\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Percentage\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Percentage\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"b504a1dc-7603-55e8-e869-732aff46b386\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drops",
                  "name": "drops",
                  "type": 1,
                  "unit": "%"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT Percentage(Sum(`metrics.drop-in-throttle`)) AS `drops`, time(time, 60) AS `time_value`, `tag.host`, `tag.index` FROM deepflow_agent_flow_aggr WHERE `tag.host` IN ('sandbox-10.0.221.224-V74','sandbox-10.0.221.223-V73') AND time>=1717493226 AND time<=1717504026 GROUP BY `time_value`, `tag.host`, `tag.index` HAVING Percentage(Sum(`metrics.drop-in-throttle`))>='1' SLIMIT 20 LIMIT 1000"
            }
          ],
          "title": " [CAUTION] drop by throttle",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 18
          },
          "id": 110,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_aggr\",\"select\":[{\"key\":\"metrics.out\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"out\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"df2325bf-def2-582b-fcb2-301b06b51018\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5019c1da-f1b8-54aa-c018-ab79ac66ca8a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "D",
              "returnMetrics": [
                {
                  "displayName": "out",
                  "name": "out",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT (Sum(`metrics.out`)/$__interval) AS `out`, time(time, 60) AS `time_60`, `tag.host`, `tag.index` FROM deepflow_agent_flow_aggr WHERE `tag.host` IN ('node1-V1') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_60`, `tag.host`, `tag.index` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "out",
          "type": "timeseries"
        }
      ],
      "title": "24 - [flow_aggr] Flow Log Aggregator",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 11
      },
      "id": 344,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 12
          },
          "id": 229,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_l7_session_aggr\",\"select\":[{\"key\":\"metrics.throttle-drop\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectaefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"cc146cb3-2b97-0eef-8d62-ab1e17017cdf\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.throttle-drop\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"089ec004-bd05-4a15-32fd-f288fe75ba35\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drops",
                  "name": "drops",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.throttle-drop`)) AS `drops`, time(time, 60) AS `time_value`, `tag.host`, `tag.index` FROM deepflow_agent_l7_session_aggr WHERE `tag.host` IN ('sandbox-10.0.221.224-V74','sandbox-10.0.221.223-V73') AND time>=1717493226 AND time<=1717504026 GROUP BY `time_value`, `tag.host`, `tag.index` HAVING PerSecond(Sum(`metrics.throttle-drop`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] drop by throttle",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "send request or response without merge, because out of window.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 12
          },
          "id": 230,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_l7_session_aggr\",\"select\":[{\"key\":\"metrics.send-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"send\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectaefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"f0dbe16c-19e0-7123-d194-40332705069e\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.send-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"send\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4c2f1a4c-b30d-053f-1b76-407a959df9a2\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "send",
                  "name": "send",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.send-before-window`)) AS `send`, time(time, 60) AS `time_value`, `tag.host`, `tag.index` FROM deepflow_agent_l7_session_aggr WHERE `tag.host` IN ('sandbox-10.0.221.224-V74','sandbox-10.0.221.223-V73') AND time>=1717493226 AND time<=1717504026 GROUP BY `time_value`, `tag.host`, `tag.index` HAVING PerSecond(Sum(`metrics.send-before-window`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] send-before-window",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "id": 227,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_l7_session_aggr\",\"select\":[{\"key\":\"metrics.cached\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"cached\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"fb45ccd3-c144-0e4f-4b67-2db26cdd7c4b\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d2e4272f-01cd-8dd9-9323-6596ed15c163\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "cached",
                  "name": "cached",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT Max(`metrics.cached`) AS `cached`, time(time, 60) AS `time_60`, `tag.host`, `tag.index` FROM deepflow_agent_l7_session_aggr WHERE `tag.host` IN ('node25-V184','huanchao-H90','analyzer22-V82','master24-V183','analyzer23-V80','controller21-V81','node2-V198','node1-V197','k8s-master-V196','tomato','node25','deepflow-agent-4qhsz','deepflow-agent-srzmm','deepflow-agent-8vbbj') AND time>='1710829985' AND time<='1710833585' GROUP BY `time_60`, `tag.host`, `tag.index` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "cached",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 19
          },
          "id": 228,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_l7_session_aggr\",\"select\":[{\"key\":\"metrics.merge\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"merged\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c24f434e-8ccf-8dc8-7f39-5820690cb4c6\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"cc9f35f1-6922-acf9-c12e-3e29e57bb057\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "merged",
                  "name": "merged",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                }
              ],
              "sql": "SELECT (Sum(`metrics.merge`)/$__interval) AS `merged`, time(time, 10) AS `time_10`, `tag.host`, `tag.index` FROM deepflow_agent_l7_session_aggr WHERE `tag.host` IN ('node1-V1','node2-V2','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host`, `tag.index` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "merge",
          "type": "timeseries"
        }
      ],
      "title": "25 - [l7_session_aggr] Request Log Aggregator",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 345,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 13
          },
          "id": 53,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collector\",\"select\":[{\"key\":\"metrics.drop-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"0395adca-f640-64bd-5a0f-18631f9a307b\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect948618a5-386c-b03f-01f7-25208ed4868f\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"04d1c6b0-0453-a97c-6c31-c211371a9e38\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.drop-before-window\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"drops\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a1fdb709-4bf4-f0ee-b194-013db1d73dba\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"7c458432-4e1d-a3bd-61be-3805bded9c68\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"857c0bcc-963c-a779-37da-1a488a39026e\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"542c87a9-ae55-1542-4530-cb23a1129686\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}-${tag.kind}\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "drops",
                  "name": "drops",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.drop-before-window`)) AS `drops`, time(time, 60) AS `time_value`, `tag.host`, `tag.index`, `tag.kind` FROM deepflow_agent_collector WHERE `tag.host` IN ('sandbox-10.0.221.224-V74','sandbox-10.0.221.223-V73') AND time>=1717493226 AND time<=1717504026 GROUP BY `time_value`, `tag.host`, `tag.index`, `tag.kind` HAVING PerSecond(Sum(`metrics.drop-before-window`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] drop by out-of-window",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ns"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 13
          },
          "id": 71,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "hide": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collector\",\"select\":[{\"key\":\"metrics.window-delay\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"window_delay\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.flow-delay\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"flow_delay\",\"params\":[],\"uuid\":\"ab83de9b-d0ca-e33f-ed2d-3db28292d184\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"0395adca-f640-64bd-5a0f-18631f9a307b\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"6fbc9567-ecce-7790-45ee-3a62317ed42b\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a1fdb709-4bf4-f0ee-b194-013db1d73dba\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"b9ab508b-d78a-b3bf-da9d-5518fd3f1e20\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"930dd9fa-0ea2-14f8-ca95-2e23422f451e\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"542c87a9-ae55-1542-4530-cb23a1129686\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}-${tag.kind}\",\"showMetrics\":1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "window_delay",
                  "name": "window_delay",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "flow_delay",
                  "name": "flow_delay",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_10",
                  "isResource": false,
                  "name": "`time_10`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Max(`metrics.window-delay`) AS `window_delay`, Max(`metrics.flow-delay`) AS `flow_delay`, time(time, 10) AS `time_10`, `tag.host`, `tag.index`, `tag.kind` FROM deepflow_agent_collector WHERE `tag.host` IN ('node2-V2','node1-V1','node27-V6','master26-V7','huanchao-linux-H2','huanchao-VirtualBox','ydx-H3','DF-DAILY-R0-C1','DF-DAILY-R0-D1','DeepflowQA-master26-W44','node27','DeepflowQA-node27-W43','master26') AND time>='${__from:date:seconds}' AND time<='${__to:date:seconds}' GROUP BY `time_10`, `tag.host`, `tag.index`, `tag.kind` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "delay",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 20
          },
          "id": 51,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collector\",\"select\":[{\"key\":\"metrics.out\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"out\",\"params\":[],\"uuid\":\"948618a5-386c-b03f-01f7-25208ed4868f\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"DIVIDE\",\"params\":\"$__interval\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"0395adca-f640-64bd-5a0f-18631f9a307b\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2fa2aba8-095f-a69b-33ea-bd69682662a2\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a1fdb709-4bf4-f0ee-b194-013db1d73dba\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"38e42be1-16fa-281b-63bb-e32c921b6a93\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e5fa5113-f34d-3dec-5ff4-7c738b47e303\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"542c87a9-ae55-1542-4530-cb23a1129686\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}#${tag.index}-${tag.kind}\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "out",
                  "name": "out",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT (Sum(`metrics.out`)/$__interval) AS `out`, time(time, 60) AS `time_60`, `tag.host`, `tag.index`, `tag.kind` FROM deepflow_agent_collector WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','deepflow-ce-cloud-demo-0-W1','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-demo-0','','deepflow-ce-demo-1','deepflow-ce-demo-2','deepflow-ce-cloud-demo-0','deepflow-ce-cloud-demo-1') AND time>=1714295725 AND time<=1714299325 GROUP BY `time_60`, `tag.host`, `tag.index`, `tag.kind` SLIMIT 20 LIMIT 100000"
            }
          ],
          "title": "out",
          "type": "timeseries"
        }
      ],
      "title": "26 - [collector] Metrics Aggregator",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 122,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 14
          },
          "id": 58,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collect_sender\",\"select\":[{\"key\":\"metrics.tx-bytes\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"tx-bps\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"Math\",\"op\":\"MULTIPLY\",\"params\":8},{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"615d4aa5-161b-5f88-e69a-e3055f4aaaac\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.type\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9d62bc27-22a4-49ea-9ad9-3e1f079e8096\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "C",
              "returnMetrics": [
                {
                  "displayName": "tx-bps",
                  "name": "tx-bps",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.type",
                  "isResource": false,
                  "name": "tag.type"
                }
              ],
              "sql": "SELECT PerSecond((Sum(`metrics.tx-bytes`)*8)) AS `tx-bps`, time(time, 60) AS `time_60`, `tag.host`, `tag.type` FROM deepflow_agent_collect_sender WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717387064 AND time<=1717390664 GROUP BY `time_60`, `tag.host`, `tag.type` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "tx_bps",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "pps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 21
          },
          "id": 57,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collect_sender\",\"select\":[{\"key\":\"metrics.tx\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"tx\",\"params\":[],\"uuid\":\"e03fee99-8d04-9576-5f32-7c4996b22263\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"c8fddada-5e4f-31ca-27bc-2f601285b30a\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"beee814b-64e4-2aaa-5539-7109652caaf6\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"6926cb7c-1457-ad5c-87e3-07719b2a0867\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.type\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"64232b5b-3a7d-bf12-ebd3-6caacaf39276\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2c1ac79e-9491-141b-4662-b1f40b2bb079\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"1000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host}-${tag.type}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "B",
              "returnMetrics": [
                {
                  "displayName": "tx",
                  "name": "tx",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.type",
                  "isResource": false,
                  "name": "tag.type"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.tx`)) AS `tx`, time(time, 60) AS `time_60`, `tag.host`, `tag.type` FROM deepflow_agent_collect_sender WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717387064 AND time<=1717390664 GROUP BY `time_60`, `tag.host`, `tag.type` SLIMIT 20 LIMIT 1000"
            }
          ],
          "title": "tx_pps",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 21
          },
          "id": 22,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_collect_sender\",\"select\":[{\"key\":\"metrics.dropped\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e03fee99-8d04-9576-5f32-7c4996b22263\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"c8fddada-5e4f-31ca-27bc-2f601285b30a\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelecte03fee99-8d04-9576-5f32-7c4996b22263\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"d3c2eda4-670e-c4e1-78d9-b3155bc535d5\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.dropped\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e03fee99-8d04-9576-5f32-7c4996b22263\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"6926cb7c-1457-ad5c-87e3-07719b2a0867\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.type\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"12a4cde6-ea21-211b-6e24-f4cce4753845\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2c1ac79e-9491-141b-4662-b1f40b2bb079\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"${tag.host} ${tag.type}\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "PerSecond(Sum(metrics.dropped))",
                  "name": "PerSecond(Sum(metrics.dropped))",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.type",
                  "isResource": false,
                  "name": "tag.type"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.dropped`)) AS `PerSecond(Sum(metrics.dropped))`, time(time, 60) AS `time_value`, `tag.host`, `tag.type` FROM deepflow_agent_collect_sender WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_value`, `tag.host`, `tag.type` HAVING PerSecond(Sum(`metrics.dropped`))>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] drop",
          "type": "timeseries"
        }
      ],
      "title": "27 - [sender] Data Sender",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 14
      },
      "id": 480,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 100,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "pps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 15
          },
          "id": 479,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_queue\",\"select\":[{\"key\":\"metrics.overwritten\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"overwritten\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.module\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$module\",\"value\":\"module\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"e329a1a3-e3c3-3739-585e-3bb5a9406aaf\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectaefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"func\":\"Avg\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"081ee7c9-4a5e-fcaa-bc90-99a195823919\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.overwritten\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"overwritten\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5c41c544-9b05-496f-11a0-3d6ea5871f97\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.module\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"db0109aa-6010-6fd7-1479-48c8639bb698\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "overwritten",
                  "name": "overwritten",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.module",
                  "isResource": false,
                  "name": "tag.module"
                }
              ],
              "sql": "SELECT PerSecond(Avg(`metrics.overwritten`)) AS `overwritten`, time(time, 60) AS `time_value`, `tag.host`, `tag.index`, `tag.module` FROM deepflow_agent_queue WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND `tag.module` IN ('1-l7-stats-to-quadruple-generator','1-tagged-flow-to-app-protocol-logs','2-flow-with-meter-to-l7-second-collector','1-tagged-flow-to-quadruple-generator','2-flow-with-meter-to-l7-minute-collector','2-flow-with-meter-to-second-collector','2-flow-with-meter-to-minute-collector','2-packet-sequence-block-to-sender','1-proc-event-to-sender','1-mini-meta-packet-to-pcap-handler','3-doc-to-collector-sender','2-second-flow-to-minute-aggrer','2-protolog-to-collector-sender','2-pcap-batch-to-sender','1-profile-to-sender','3-flowlog-to-collector-sender','1-packet-sequence-block-to-parser','0-stats-to-sender','remote_logger','0-ebpf-to-ebpf-collector','1-application-log-to-sender','1-compressed-otel-to-sender','1-prometheus-to-sender','1-telegraf-to-sender','1-otel-to-sender') AND time>=1717468233 AND time<=1717471833 GROUP BY `time_value`, `tag.host`, `tag.index`, `tag.module` HAVING PerSecond(Avg(`metrics.overwritten`))>='1' SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": " [CAUTION] Drop PPS",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineStyle": {
                  "fill": "solid"
                },
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 25
          },
          "id": 481,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": {
                "type": "deepflowio-deepflow-datasource",
                "uid": "$datasource"
              },
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_queue\",\"select\":[{\"type\":\"metric\",\"key\":\"metrics.pending\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4a90bfe9-5b6a-c907-87e3-bd77279ecbf6\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.module\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$module\",\"value\":\"module\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"e329a1a3-e3c3-3739-585e-3bb5a9406aaf\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5a3a723a-9da1-70fe-7f5e-64b446ff9865\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5c41c544-9b05-496f-11a0-3d6ea5871f97\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.module\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"db0109aa-6010-6fd7-1479-48c8639bb698\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Max(metrics.pending)",
                  "name": "Max(metrics.pending)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.module",
                  "isResource": false,
                  "name": "tag.module"
                }
              ],
              "sql": "SELECT Max(`metrics.pending`) AS `Max(metrics.pending)`, time(time, 60) AS `time_60`, `tag.host`, `tag.index`, `tag.module` FROM deepflow_agent_queue WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND `tag.module` IN ('2-flow-with-meter-to-second-collector','2-flow-with-meter-to-minute-collector','1-tagged-flow-to-app-protocol-logs','1-tagged-flow-to-quadruple-generator','1-compressed-otel-to-sender','1-telegraf-to-sender','1-prometheus-to-sender','1-otel-to-sender','0-stats-to-sender','1-profile-to-sender','3-doc-to-collector-sender','2-second-flow-to-minute-aggrer','1-proc-event-to-sender','2-protolog-to-collector-sender','3-flowlog-to-collector-sender','1-packet-sequence-block-to-parser','2-packet-sequence-block-to-sender','1-l7-stats-to-quadruple-generator','2-flow-with-meter-to-l7-minute-collector','2-flow-with-meter-to-l7-second-collector','1-application-log-to-sender','0.2-packet-to-additional-pipeline','0-ebpf-to-ebpf-collector','2-pcap-batch-to-sender','0.1-raw-packet-to-flow-generator','remote_logger','1-otel-metrics-to-collector') AND time>=1717388161 AND time<=1717391761 GROUP BY `time_60`, `tag.host`, `tag.index`, `tag.module` SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": "Pending Data",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "pps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*out/"
                },
                "properties": [
                  {
                    "id": "custom.stacking",
                    "value": {
                      "group": "B",
                      "mode": "normal"
                    }
                  },
                  {
                    "id": "custom.transform",
                    "value": "negative-Y"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 35
          },
          "id": 399,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_queue\",\"select\":[{\"key\":\"metrics.in\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"in\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}},{\"type\":\"metric\",\"key\":\"metrics.out\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"out\",\"params\":[],\"uuid\":\"421866f9-7f6a-33d9-bc61-8e8deb9029fa\",\"subFuncs\":[{\"func\":\"PerSecond\"}],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[{\"func\":\"PerSecond\"}]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.module\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$module\",\"value\":\"module\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"79f14b4a-67f6-786a-829f-4e2a47116196\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"6203e606-932a-076a-93d0-27c1738b1ae2\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.index\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e76d89cd-3bb0-4175-ac5a-a07685c214e6\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.module\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"3d51e6c7-db8c-4e9d-3991-4bf70d69a70f\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"100\",\"limit\":\"100000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "in",
                  "name": "in",
                  "type": 1,
                  "unit": "/s"
                },
                {
                  "displayName": "out",
                  "name": "out",
                  "type": 1,
                  "unit": "/s"
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.index",
                  "isResource": false,
                  "name": "tag.index"
                },
                {
                  "displayName": "tag.module",
                  "isResource": false,
                  "name": "tag.module"
                }
              ],
              "sql": "SELECT PerSecond(Sum(`metrics.in`)) AS `in`, PerSecond(Sum(`metrics.out`)) AS `out`, time(time, 60) AS `time_60`, `tag.host`, `tag.index`, `tag.module` FROM deepflow_agent_queue WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND `tag.module` IN ('2-flow-with-meter-to-second-collector','2-flow-with-meter-to-minute-collector','1-tagged-flow-to-app-protocol-logs','1-tagged-flow-to-quadruple-generator','1-compressed-otel-to-sender','1-telegraf-to-sender','1-prometheus-to-sender','1-otel-to-sender','0-stats-to-sender','1-profile-to-sender','3-doc-to-collector-sender','2-second-flow-to-minute-aggrer','1-proc-event-to-sender','2-protolog-to-collector-sender','3-flowlog-to-collector-sender','1-packet-sequence-block-to-parser','2-packet-sequence-block-to-sender','1-l7-stats-to-quadruple-generator','2-flow-with-meter-to-l7-minute-collector','2-flow-with-meter-to-l7-second-collector','1-application-log-to-sender','0.2-packet-to-additional-pipeline','0-ebpf-to-ebpf-collector','2-pcap-batch-to-sender','0.1-raw-packet-to-flow-generator','remote_logger','1-otel-metrics-to-collector') AND time>=1717388161 AND time<=1717391761 GROUP BY `time_60`, `tag.host`, `tag.index`, `tag.module` SLIMIT 100 LIMIT 100000"
            }
          ],
          "title": "$module +In PPS / -Out PPS",
          "type": "timeseries"
        }
      ],
      "title": "28 - [queue] In-memory Queue",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 267,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "Various gRPC call delays, time from making a request to receiving a response",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 1000000
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 16
          },
          "id": 273,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_grpc_call\",\"select\":[{\"type\":\"metric\",\"key\":\"metrics.max_delay\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"11300478-e8fc-cb31-d282-48ff0e6d129a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"57e98dac-7f92-eb6b-3418-573b2cbeba02\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect11300478-e8fc-cb31-d282-48ff0e6d129a\",\"func\":\"Max\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"88b50624-fb49-f808-3aef-4acb43919602\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"type\":\"metric\",\"key\":\"metrics.max_delay\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"11300478-e8fc-cb31-d282-48ff0e6d129a\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},\"cache\":{\"func\":\"Max\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bda6d000-c62f-00cb-045e-19ee36469b7f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.endpoint\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"14876231-0b15-50fc-2503-86e60166c315\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a5c1969b-4182-1c41-f75b-1971d285aeb4\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Max(metrics.max_delay)",
                  "name": "Max(metrics.max_delay)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.endpoint",
                  "isResource": false,
                  "name": "tag.endpoint"
                }
              ],
              "sql": "SELECT Max(`metrics.max_delay`) AS `Max(metrics.max_delay)`, time(time, 60) AS `time_value`, `tag.host`, `tag.endpoint` FROM deepflow_agent_grpc_call WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717474025 AND time<=1717477625 GROUP BY `time_value`, `tag.host`, `tag.endpoint` HAVING Max(`metrics.max_delay`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "gRPC max delay",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "Various gRPC call delays, time from making a request to receiving a response",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "dashed"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 1000000
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 16
          },
          "id": 489,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_grpc_call\",\"select\":[{\"key\":\"metrics.avg_delay\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"57e98dac-7f92-eb6b-3418-573b2cbeba02\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectd81c989c-1109-ce31-42ff-100082ac77ad\",\"func\":\"Avg\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"44c819df-1be7-d848-01fe-8e810d0dc656\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.avg_delay\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}},\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bda6d000-c62f-00cb-045e-19ee36469b7f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.endpoint\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"14876231-0b15-50fc-2503-86e60166c315\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a5c1969b-4182-1c41-f75b-1971d285aeb4\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Avg(metrics.avg_delay)",
                  "name": "Avg(metrics.avg_delay)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.endpoint",
                  "isResource": false,
                  "name": "tag.endpoint"
                }
              ],
              "sql": "SELECT Avg(`metrics.avg_delay`) AS `Avg(metrics.avg_delay)`, time(time, 60) AS `time_value`, `tag.host`, `tag.endpoint` FROM deepflow_agent_grpc_call WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717478288 AND time<=1717481888 GROUP BY `time_value`, `tag.host`, `tag.endpoint` HAVING Avg(`metrics.avg_delay`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "gRPC avg delay",
          "type": "timeseries"
        }
      ],
      "title": "30 - gRPC Call",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 275,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 17
          },
          "id": 293,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_resource_watcher\",\"select\":[{\"key\":\"metrics.watch_applied\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"watch_applied\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect2d40d292-90e8-64fc-f11a-60618d817367\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"7a5c37d5-3c39-9e72-d575-4791e4e97ada\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.watch_applied\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"watch_applied\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"47c03384-cf0f-f2e5-b0c7-3f0c78dc90b6\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "watch_applied",
                  "name": "watch_applied",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Sum(`metrics.watch_applied`) AS `watch_applied`, time(time, 60) AS `time_value`, `tag.host`, `tag.kind` FROM deepflow_agent_resource_watcher WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717309277 AND time<=1717482077 GROUP BY `time_value`, `tag.host`, `tag.kind` HAVING Sum(`metrics.watch_applied`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Watch Added/Modified",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 17
          },
          "id": 291,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_resource_watcher\",\"select\":[{\"key\":\"metrics.watch_deleted\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"watch_deleted\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect2d40d292-90e8-64fc-f11a-60618d817367\",\"func\":\"Max\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"6c7d7791-2519-cf79-8b76-5f17a7acf225\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.watch_deleted\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"watch_deleted\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},\"cache\":{\"func\":\"Max\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"554cdc85-a395-fbcb-b629-a265a4ab25d5\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "watch_deleted",
                  "name": "watch_deleted",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Max(`metrics.watch_deleted`) AS `watch_deleted`, time(time, 60) AS `time_60`, `tag.host`, `tag.kind` FROM deepflow_agent_resource_watcher WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717309277 AND time<=1717482077 GROUP BY `time_60`, `tag.host`, `tag.kind` HAVING Max(`metrics.watch_deleted`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Watch Deleted",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 25
          },
          "id": 490,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "# List & Watch\n\nIn a K8s cluster, only one deepflow-agent will list and watch the apiserver. A full list of a specific type of K8s resource will only be triggered once under the following circumstances: when the deepflow-agent starts, or when the watcher for a specific type of K8s resource remains idle for more than the `kubernetes-api-list-interval` (default 10 minutes).",
            "mode": "markdown"
          },
          "pluginVersion": "10.4.0",
          "type": "text"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 25
          },
          "id": 279,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_resource_watcher\",\"select\":[{\"key\":\"metrics.list_avg_length\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"list_length\",\"params\":[],\"uuid\":\"c9c1072b-56b9-b811-ecd6-fd88ea0ae30c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"8dc0b25b-4123-39af-8336-2ea89a8fc7b9\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectc9c1072b-56b9-b811-ecd6-fd88ea0ae30c\",\"func\":\"Max\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"7add638f-2d07-4a42-3eb9-9a60e8f5a6a7\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.list_avg_length\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"list_length\",\"params\":[],\"uuid\":\"c9c1072b-56b9-b811-ecd6-fd88ea0ae30c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}},\"cache\":{\"func\":\"Max\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2d686faf-cbb2-bae5-3035-94a8dbf63892\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"19a34c5e-e8fd-0872-04ad-bd4e1f806a69\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"3cda2a5a-876d-f8c9-14b7-5f77616b3853\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "list_length",
                  "name": "list_length",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Max(`metrics.list_avg_length`) AS `list_length`, time(time, 60) AS `time_value`, `tag.host`, `tag.kind` FROM deepflow_agent_resource_watcher WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717309277 AND time<=1717482077 GROUP BY `time_value`, `tag.host`, `tag.kind` HAVING Max(`metrics.list_avg_length`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Full sync avg length",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ns"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 33
          },
          "id": 277,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_resource_watcher\",\"select\":[{\"key\":\"metrics.list_avg_cost_time\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"list_cost_time\",\"params\":[],\"uuid\":\"c9c1072b-56b9-b811-ecd6-fd88ea0ae30c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"8dc0b25b-4123-39af-8336-2ea89a8fc7b9\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelectc9c1072b-56b9-b811-ecd6-fd88ea0ae30c\",\"func\":\"Avg\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"4a08368e-fde3-3236-1a42-df1c513b07d6\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.list_avg_cost_time\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"list_cost_time\",\"params\":[],\"uuid\":\"c9c1072b-56b9-b811-ecd6-fd88ea0ae30c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}},\"cache\":{\"func\":\"Avg\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2d686faf-cbb2-bae5-3035-94a8dbf63892\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9bfb535d-2c2f-386d-3709-2421d27e3327\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"3cda2a5a-876d-f8c9-14b7-5f77616b3853\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "list_cost_time",
                  "name": "list_cost_time",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Avg(`metrics.list_avg_cost_time`) AS `list_cost_time`, time(time, 60) AS `time_value`, `tag.host`, `tag.kind` FROM deepflow_agent_resource_watcher WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717309277 AND time<=1717482077 GROUP BY `time_value`, `tag.host`, `tag.kind` HAVING Avg(`metrics.list_avg_cost_time`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Full sync cost time ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 33
          },
          "id": 289,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_resource_watcher\",\"select\":[{\"key\":\"metrics.list_error\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"list_error\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"33d461d0-4caf-ebe8-b0ac-33b923ba1cc5\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"fromSelect2d40d292-90e8-64fc-f11a-60618d817367\",\"func\":\"Sum\",\"op\":\">=\",\"val\":\"1\",\"as\":\"\",\"params\":[],\"uuid\":\"17e71313-308b-594f-5f61-abcd08f57d07\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"fromSelect\":{\"key\":\"metrics.list_error\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"list_error\",\"params\":[],\"uuid\":\"2d40d292-90e8-64fc-f11a-60618d817367\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}},\"cache\":{\"func\":\"Sum\",\"params\":[],\"subFuncs\":[]}}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"8b96eced-24ae-4beb-b97c-f906b4f55318\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.kind\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2a057526-d485-553c-8298-ce707240494e\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"c4e2621e-0171-fed7-6979-d0963f8c6e47\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "list_error",
                  "name": "list_error",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.kind",
                  "isResource": false,
                  "name": "tag.kind"
                }
              ],
              "sql": "SELECT Sum(`metrics.list_error`) AS `list_error`, time(time, 60) AS `time_value`, `tag.host`, `tag.kind` FROM deepflow_agent_resource_watcher WHERE (`tag.host` = 'sandbox-10.0.221.223-V73' OR `tag.host` = 'sandbox-10.0.221.224-V74') AND time>=1717309277 AND time<=1717482077 GROUP BY `time_value`, `tag.host`, `tag.kind` HAVING Sum(`metrics.list_error`)>='1' SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": " [CAUTION] Full Sync Error",
          "type": "timeseries"
        }
      ],
      "title": "31 - Kubernetes Watcher",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 265,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 18
          },
          "id": 271,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_integration_collector\",\"select\":[{\"key\":\"metrics.compressed_ratio\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"57e98dac-7f92-eb6b-3418-573b2cbeba02\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9a04cb64-07af-e397-5c3a-0c718125d7ee\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bda6d000-c62f-00cb-045e-19ee36469b7f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a5c1969b-4182-1c41-f75b-1971d285aeb4\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Avg(metrics.compressed_ratio)",
                  "name": "Avg(metrics.compressed_ratio)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Avg(`metrics.compressed_ratio`) AS `Avg(metrics.compressed_ratio)`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_integration_collector WHERE (`tag.host` = 'deepflow-ce-cloud-demo-1-W2' OR `tag.host` = 'metaflow-demo-0-V1' OR `tag.host` = 'metaflow-demo-1-V3' OR `tag.host` = 'metaflow-demo-2-V2' OR `tag.host` = 'deepflow-ce-cloud-demo-0-W1') AND time>=1717391825 AND time<=1717395425 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Open Telemetry Trace data compressed ratio",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 18
          },
          "id": 269,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_integration_collector\",\"select\":[{\"key\":\"metrics.compressed\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"compressed\",\"params\":[],\"uuid\":\"d81c989c-1109-ce31-42ff-100082ac77ad\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}},{\"type\":\"metric\",\"key\":\"metrics.uncompressed\",\"func\":\"Avg\",\"op\":\"\",\"val\":\"\",\"as\":\"uncompressed\",\"params\":[],\"uuid\":\"f878a472-614b-0b87-f41d-7ef5fa37ddc2\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Avg\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"57e98dac-7f92-eb6b-3418-573b2cbeba02\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"50773f11-5890-bee9-b5f3-d621d22211e3\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"bda6d000-c62f-00cb-045e-19ee36469b7f\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"a5c1969b-4182-1c41-f75b-1971d285aeb4\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "compressed",
                  "name": "compressed",
                  "type": 1,
                  "unit": ""
                },
                {
                  "displayName": "uncompressed",
                  "name": "uncompressed",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_60",
                  "isResource": false,
                  "name": "`time_60`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Avg(`metrics.compressed`) AS `compressed`, Avg(`metrics.uncompressed`) AS `uncompressed`, time(time, 60) AS `time_60`, `tag.host` FROM deepflow_agent_integration_collector WHERE `tag.host` IN ('deepflow-ce-cloud-demo-1-W2','metaflow-demo-0-V1','metaflow-demo-1-V3','metaflow-demo-2-V2','deepflow-ce-cloud-demo-0-W1') AND time>=1717391825 AND time<=1717395425 GROUP BY `time_60`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Open Telemetry Trace data uncompress/compressedbytes",
          "type": "timeseries"
        }
      ],
      "title": "40 - Integration Collector",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 135,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineStyle": {
                  "fill": "solid"
                },
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 19
          },
          "id": 133,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_perf\",\"select\":[{\"key\":\"metrics.ignore_packet_count\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"ignored\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d5f449c0-23dd-5bb7-fd76-9599c9ee288b\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "ignored",
                  "name": "ignored",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Sum(`metrics.ignore_packet_count`) AS `ignored`, time(time, 60) AS `time_value`, `tag.host` FROM deepflow_agent_flow_perf WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717479876 AND time<=1717501476 GROUP BY `time_value`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Ignored TCP Packets with abnormal TCP Flags",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 19
          },
          "id": 161,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_perf\",\"select\":[{\"key\":\"metrics.invalid_packet_count\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"invalid\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"2c4ae60b-d540-e3a1-2fb6-eca6a9b67151\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "invalid",
                  "name": "invalid",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                }
              ],
              "sql": "SELECT Sum(`metrics.invalid_packet_count`) AS `invalid`, time(time, 60) AS `time_value`, `tag.host` FROM deepflow_agent_flow_perf WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717480115 AND time<=1717501715 GROUP BY `time_value`, `tag.host` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "TCP Retransmission Ineligible Packet",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*Total.*/"
                },
                "properties": [
                  {
                    "id": "custom.lineWidth",
                    "value": 0
                  },
                  {
                    "id": "custom.axisPlacement",
                    "value": "hidden"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 27
          },
          "id": 491,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_flow_perf\",\"select\":[{\"key\":\"metrics.unknown_l7_protocol\",\"func\":\"Sum\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"aefa8f81-77fd-0a24-2d68-ec46a6e9b11c\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Sum\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"IN\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"d7eaa824-9a00-9530-e376-cc46aaba0206\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"7bd3d43a-7a10-c195-3868-33fe2383db60\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4b7bedba-31a2-f7cf-5b3a-83e1b9c749cf\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"4087cf0f-01b2-6bd4-e5f5-cc1f61ef2d47\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"75eda237-e15f-290f-fdda-98017b960c9b\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "Sum(metrics.unknown_l7_protocol)",
                  "name": "Sum(metrics.unknown_l7_protocol)",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Sum(`metrics.unknown_l7_protocol`) AS `Sum(metrics.unknown_l7_protocol)`, time(time, 60) AS `time_value`, `tag.host`, `tag.id` FROM deepflow_agent_flow_perf WHERE `tag.host` IN ('sandbox-10.0.221.223-V73','sandbox-10.0.221.224-V74') AND time>=1717463265 AND time<=1717484865 GROUP BY `time_value`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Unrecognized L7 Protocol Packets",
          "type": "timeseries"
        }
      ],
      "title": "41 - TCP Performance Quantify",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 317,
      "panels": [
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 20
          },
          "id": 319,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_pcap_assembler\",\"select\":[{\"key\":\"metrics.no_flow_id\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"no_flow_id\",\"params\":[],\"uuid\":\"1530fd77-70d1-be67-bec2-0f25dfde8f78\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3be67add-e2db-9de5-5354-883b6c77c8fc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"9558c2db-0a38-3627-18ad-635b7add1ebb\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"7408dcce-980f-a18a-542c-bb363b8cd25a\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"5ac733a4-be1c-14f8-21a2-c7ca60c312c5\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"b85e3aba-324e-7585-16ed-57599219fec7\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":-1,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "no_flow_id",
                  "name": "no_flow_id",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Max(`metrics.no_flow_id`) AS `no_flow_id`, time(time, 60) AS `time_value`, `tag.host`, `tag.id` FROM deepflow_agent_pcap_assembler WHERE (`tag.host` = 'sandbox-10.0.221.224-V74' OR `tag.host` = 'sandbox-10.0.221.223-V73') AND time>=1717491447 AND time<=1717502247 GROUP BY `time_value`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "No flow id",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 20
          },
          "id": 321,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_pcap_assembler\",\"select\":[{\"key\":\"metrics.flow_flushes\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"flow_flushes\",\"params\":[],\"uuid\":\"1530fd77-70d1-be67-bec2-0f25dfde8f78\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3be67add-e2db-9de5-5354-883b6c77c8fc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"79e4a3ef-af6e-0f10-ad9b-c7554a3375e7\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"7408dcce-980f-a18a-542c-bb363b8cd25a\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"e40b0972-6b7f-c63e-8a5a-470d0256638c\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"b85e3aba-324e-7585-16ed-57599219fec7\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "flow_flushes",
                  "name": "flow_flushes",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Max(`metrics.flow_flushes`) AS `flow_flushes`, time(time, 60) AS `time_value`, `tag.host`, `tag.id` FROM deepflow_agent_pcap_assembler WHERE (`tag.host` = 'sandbox-10.0.221.224-V74' OR `tag.host` = 'sandbox-10.0.221.223-V73') AND time>=1717491447 AND time<=1717502247 GROUP BY `time_value`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Flow flushes",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "deepflowio-deepflow-datasource",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 20
          },
          "id": 323,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": "$datasource",
              "debug": false,
              "metaExtra": {},
              "queryText": "{\"appType\":\"trafficQuery\",\"db\":\"deepflow_system\",\"sources\":\"\",\"from\":\"deepflow_agent_pcap_assembler\",\"select\":[{\"key\":\"metrics.whole_flushes\",\"func\":\"Max\",\"op\":\"\",\"val\":\"\",\"as\":\"whole_flushes\",\"params\":[],\"uuid\":\"1530fd77-70d1-be67-bec2-0f25dfde8f78\",\"type\":\"metric\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false,\"cache\":{\"func\":\"Max\",\"params\":[]}}],\"where\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"LIKE\",\"val\":[{\"label\":\"$host\",\"value\":\"host\",\"isVariable\":true,\"variableType\":\"query\"}],\"as\":\"\",\"params\":[],\"uuid\":\"3be67add-e2db-9de5-5354-883b6c77c8fc\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"having\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"da8a8af3-6816-9a67-5b81-94566be20e49\",\"type\":\"metric\"}],\"groupBy\":[{\"key\":\"tag.host\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"7408dcce-980f-a18a-542c-bb363b8cd25a\",\"type\":\"tag\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false},{\"type\":\"tag\",\"key\":\"tag.id\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"d0337822-48db-84df-ad97-9d4113fb3c9b\",\"subFuncs\":[],\"whereOnly\":false,\"isResourceType\":false,\"isIpType\":false}],\"orderBy\":[{\"key\":\"\",\"func\":\"\",\"op\":\"\",\"val\":\"\",\"as\":\"\",\"params\":[],\"uuid\":\"b85e3aba-324e-7585-16ed-57599219fec7\",\"type\":\"metric\",\"sort\":\"asc\"}],\"interval\":\"$interval\",\"slimit\":\"\",\"limit\":\"10000\",\"offset\":\"\",\"formatAs\":\"timeSeries\",\"alias\":\"\",\"showMetrics\":0,\"tracingId\":null}",
              "refId": "A",
              "returnMetrics": [
                {
                  "displayName": "whole_flushes",
                  "name": "whole_flushes",
                  "type": 1,
                  "unit": ""
                }
              ],
              "returnTags": [
                {
                  "displayName": "time_value",
                  "isResource": false,
                  "name": "`time_value`"
                },
                {
                  "displayName": "tag.host",
                  "isResource": false,
                  "name": "tag.host"
                },
                {
                  "displayName": "tag.id",
                  "isResource": false,
                  "name": "tag.id"
                }
              ],
              "sql": "SELECT Max(`metrics.whole_flushes`) AS `whole_flushes`, time(time, 60) AS `time_value`, `tag.host`, `tag.id` FROM deepflow_agent_pcap_assembler WHERE (`tag.host` = 'sandbox-10.0.221.224-V74' OR `tag.host` = 'sandbox-10.0.221.223-V73') AND time>=1717491447 AND time<=1717502247 GROUP BY `time_value`, `tag.host`, `tag.id` SLIMIT 20 LIMIT 10000"
            }
          ],
          "title": "Whole flushes",
          "type": "timeseries"
        }
      ],
      "title": "42 - PCAP Assembler (Enterprise Edition Only)",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "$datasource",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 119,
      "panels": [
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "pps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 21
          },
          "id": 17,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host-$tag_name total",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "name"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": false,
              "measurement": "trident_dedup_total",
              "policy": "default",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  },
                  {
                    "params": [
                      "/ 60"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            },
            {
              "alias": "$tag_host-$tag_name hit",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "name"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_dedup_hit",
              "policy": "default",
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  },
                  {
                    "params": [
                      " / 60"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            },
            {
              "alias": "$tag_host-$tag_name timeout",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "name"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_dedup_timeout",
              "policy": "default",
              "query": "SELECT sum(\"value\")  / 60 FROM \"trident_dedup_missed\" WHERE \"host\" =~ /^$host$/ AND $timeFilter GROUP BY time(10s), \"host\" fill(null)",
              "rawQuery": false,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  },
                  {
                    "params": [
                      " / 60"
                    ],
                    "type": "math"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Matching Performance",
          "type": "timeseries"
        },
        {
          "datasource": "$datasource",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*max-bucket/"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 28
          },
          "id": 19,
          "interval": "$interval",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "10.4.0",
          "targets": [
            {
              "alias": "$tag_host load-factor",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_dedup_load_factor",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"trident_dedup_load_factor\" WHERE \"host\" =~ /^$host$/ AND $timeFilter GROUP BY time(10s), \"host\" fill(null)",
              "rawQuery": false,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            },
            {
              "alias": "$tag_host max-bucket",
              "dsType": "influxdb",
              "groupBy": [
                {
                  "params": [
                    "auto"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "host"
                  ],
                  "type": "tag"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "measurement": "trident_dedup_max_bucket",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"trident_dedup_load_factor\" WHERE \"host\" =~ /^$host$/ AND $timeFilter GROUP BY time(10s), \"host\" fill(null)",
              "rawQuery": false,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "tags": [
                {
                  "key": "host",
                  "operator": "=~",
                  "value": "/^$host$/"
                }
              ]
            }
          ],
          "title": "Load Factor",
          "type": "timeseries"
        }
      ],
      "title": "43 - Dedup Performance (Enterprise Edition Only)",
      "type": "row"
    }
  ],
  "refresh": "",
  "revision": 1,
  "schemaVersion": 39,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "selected": true,
          "value": "1"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Data Source",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "deepflowio-deepflow-datasource",
        "queryValue": "",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "uid": "$datasource"
        },
        "definition": "{\"0\":\"S\",\"1\":\"H\",\"2\":\"O\",\"3\":\"W\",\"4\":\" \",\"5\":\"T\",\"6\":\"A\",\"7\":\"G\",\"8\":\" \",\"9\":\"V\",\"10\":\"A\",\"11\":\"L\",\"12\":\"U\",\"13\":\"E\",\"14\":\"S\",\"15\":\" \",\"16\":\"F\",\"17\":\"R\",\"18\":\"O\",\"19\":\"M\",\"20\":\" \",\"21\":\"t\",\"22\":\"r\",\"23\":\"i\",\"24\":\"d\",\"25\":\"e\",\"26\":\"n\",\"27\":\"t\",\"28\":\"_\",\"29\":\"d\",\"30\":\"i\",\"31\":\"s\",\"32\":\"p\",\"33\":\"a\",\"34\":\"t\",\"35\":\"c\",\"36\":\"h\",\"37\":\"e\",\"38\":\"r\",\"39\":\"_\",\"40\":\"r\",\"41\":\"x\",\"42\":\" \",\"43\":\"W\",\"44\":\"I\",\"45\":\"T\",\"46\":\"H\",\"47\":\" \",\"48\":\"K\",\"49\":\"E\",\"50\":\"Y\",\"51\":\"=\",\"52\":\"h\",\"53\":\"o\",\"54\":\"s\",\"55\":\"t\",\"database\":\"deepflow_system\",\"sql\":\"show tag tag.host values from deepflow_agent_dispatcher\",\"useAny\":false,\"useDisabled\":false}",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "host",
        "options": [],
        "query": {
          "0": "S",
          "1": "H",
          "2": "O",
          "3": "W",
          "4": " ",
          "5": "T",
          "6": "A",
          "7": "G",
          "8": " ",
          "9": "V",
          "10": "A",
          "11": "L",
          "12": "U",
          "13": "E",
          "14": "S",
          "15": " ",
          "16": "F",
          "17": "R",
          "18": "O",
          "19": "M",
          "20": " ",
          "21": "t",
          "22": "r",
          "23": "i",
          "24": "d",
          "25": "e",
          "26": "n",
          "27": "t",
          "28": "_",
          "29": "d",
          "30": "i",
          "31": "s",
          "32": "p",
          "33": "a",
          "34": "t",
          "35": "c",
          "36": "h",
          "37": "e",
          "38": "r",
          "39": "_",
          "40": "r",
          "41": "x",
          "42": " ",
          "43": "W",
          "44": "I",
          "45": "T",
          "46": "H",
          "47": " ",
          "48": "K",
          "49": "E",
          "50": "Y",
          "51": "=",
          "52": "h",
          "53": "o",
          "54": "s",
          "55": "t",
          "database": "deepflow_system",
          "sql": "show tag tag.host values from deepflow_agent_dispatcher",
          "useAny": false,
          "useDisabled": false
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "auto": true,
        "auto_count": 30,
        "auto_min": "10s",
        "current": {
          "selected": false,
          "text": "1m",
          "value": "1m"
        },
        "hide": 0,
        "name": "interval",
        "options": [
          {
            "selected": false,
            "text": "auto",
            "value": "$__auto_interval_interval"
          },
          {
            "selected": false,
            "text": "10s",
            "value": "10s"
          },
          {
            "selected": false,
            "text": "20s",
            "value": "20s"
          },
          {
            "selected": false,
            "text": "30s",
            "value": "30s"
          },
          {
            "selected": true,
            "text": "1m",
            "value": "1m"
          },
          {
            "selected": false,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "30m",
            "value": "30m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "6h",
            "value": "6h"
          },
          {
            "selected": false,
            "text": "12h",
            "value": "12h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          },
          {
            "selected": false,
            "text": "7d",
            "value": "7d"
          },
          {
            "selected": false,
            "text": "14d",
            "value": "14d"
          },
          {
            "selected": false,
            "text": "30d",
            "value": "30d"
          }
        ],
        "query": "10s,20s,30s,1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
        "queryValue": "",
        "refresh": 2,
        "skipUrlSync": false,
        "type": "interval"
      },
      {
        "current": {
          "selected": false,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "uid": "$datasource"
        },
        "definition": "{\"0\":\"S\",\"1\":\"H\",\"2\":\"O\",\"3\":\"W\",\"4\":\" \",\"5\":\"T\",\"6\":\"A\",\"7\":\"G\",\"8\":\" \",\"9\":\"V\",\"10\":\"A\",\"11\":\"L\",\"12\":\"U\",\"13\":\"E\",\"14\":\"S\",\"15\":\" \",\"16\":\"F\",\"17\":\"R\",\"18\":\"O\",\"19\":\"M\",\"20\":\" \",\"21\":\"t\",\"22\":\"r\",\"23\":\"i\",\"24\":\"d\",\"25\":\"e\",\"26\":\"n\",\"27\":\"t\",\"28\":\"_\",\"29\":\"q\",\"30\":\"u\",\"31\":\"e\",\"32\":\"u\",\"33\":\"e\",\"34\":\"_\",\"35\":\"i\",\"36\":\"n\",\"37\":\" \",\"38\":\"W\",\"39\":\"I\",\"40\":\"T\",\"41\":\"H\",\"42\":\" \",\"43\":\"K\",\"44\":\"E\",\"45\":\"Y\",\"46\":\"=\",\"47\":\"m\",\"48\":\"o\",\"49\":\"d\",\"50\":\"u\",\"51\":\"l\",\"52\":\"e\",\"database\":\"deepflow_system\",\"sql\":\"show tag tag.module values from deepflow_agent_queue\"}",
        "hide": 0,
        "includeAll": true,
        "multi": true,
        "name": "module",
        "options": [],
        "query": {
          "0": "S",
          "1": "H",
          "2": "O",
          "3": "W",
          "4": " ",
          "5": "T",
          "6": "A",
          "7": "G",
          "8": " ",
          "9": "V",
          "10": "A",
          "11": "L",
          "12": "U",
          "13": "E",
          "14": "S",
          "15": " ",
          "16": "F",
          "17": "R",
          "18": "O",
          "19": "M",
          "20": " ",
          "21": "t",
          "22": "r",
          "23": "i",
          "24": "d",
          "25": "e",
          "26": "n",
          "27": "t",
          "28": "_",
          "29": "q",
          "30": "u",
          "31": "e",
          "32": "u",
          "33": "e",
          "34": "_",
          "35": "i",
          "36": "n",
          "37": " ",
          "38": "W",
          "39": "I",
          "40": "T",
          "41": "H",
          "42": " ",
          "43": "K",
          "44": "E",
          "45": "Y",
          "46": "=",
          "47": "m",
          "48": "o",
          "49": "d",
          "50": "u",
          "51": "l",
          "52": "e",
          "database": "deepflow_system",
          "sql": "show tag tag.module values from deepflow_agent_queue"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "DeepFlow Agent",
  "uid": "DeepFlow_Agent",
  "version": 18,
  "weekStart": ""
}
